/* --- Core Layout & Body --- */
:root { --offcanvas-width: 250px; }
body {
    font-family: 'Poppins', sans-serif;
    background-color: #f0f2f5;
    padding-top: 70px;
    padding-bottom: 50px;
    transition: margin-left 0.3s ease;
}
.page-wrapper {
    transition: margin-left 0.3s ease;
}
.offcanvas.offcanvas-start.show ~ .page-wrapper {
    margin-left: var(--offcanvas-width);
}
.offcanvas { width: var(--offcanvas-width); }

/* --- Glassmorphism Header & Footer --- */
.glass-header, .glass-footer {
    background: rgba(40, 40, 40, 0.75);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    color: white;
}
.glass-header #location-display { font-size: 0.8rem; }

/* --- Main Content & Titles --- */
.dashboard-title {
    margin-bottom: 1.5rem;
    padding-bottom: 0.5rem;
    border-bottom: 3px solid #0d6efd;
    color: #333;
}
.section-title {
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: #555;
}

/* --- Marketplace Product Card --- */
.product-card {
    border: none;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.12);
}
.product-card .card-img-top {
    width: 100%;
    height: 120px;
    object-fit: cover;
}
.product-card .card-body { padding: 0.8rem; }
.product-card .card-title { font-size: 0.9rem; font-weight: 600; margin-bottom: 0.2rem; }
.product-card .card-text { font-size: 0.9rem; color: #0d6efd; font-weight: bold; }

/* --- Accordion & Outputs --- */
.accordion-item {
    border: none;
    border-radius: .5rem;
    margin-bottom: 1rem;
    box-shadow: 0 2px 10px rgba(0,0,0,0.07);
}
.accordion-button { font-weight: 600; }
.accordion-button:not(.collapsed) { background-color: #e9ecef; }
.accordion-button:focus { box-shadow: none; }
.ai-output, .blockchain-output { white-space: normal; }
.ai-output ul, .ai-output ol { padding-left: 1.2rem; }
.blockchain-output code { font-size: 0.8rem; word-break: break-all; color: #d63384; }

/* --- Chatbot --- */
#chatbot-toggle-btn {
    position: fixed;
    bottom: 60px;
    right: 20px;
    width: 60px;
    height: 60px;
    font-size: 1.5rem;
    z-index: 1055;
}
#chatbot-messages { min-height: 60vh; }
.chatbot-msg { margin-bottom: 10px; padding: 8px 12px; border-radius: 18px; max-width: 85%; word-wrap: break-word; }
.user-msg { background-color: #dcf8c6; align-self: flex-end; margin-left: auto; }
.bot-msg { background-color: #f1f0f0; align-self: flex-start; }
.modal-body#chatbot-messages { display: flex; flex-direction: column; }